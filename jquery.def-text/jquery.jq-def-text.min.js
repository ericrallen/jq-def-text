/*!
* jq-def-text v1.4.3
* http://github.com/ericrallen/jq-def-text/
*
* Copyright 2012 Eric Allen
* Released under the MIT license
*/
(function(d,b,a,e){d.fn.ia_jqdeftext=function(h,g){if(typeof h==="object"){g=h;}else{if(typeof h==="string"){var f=this.data("_ia_jqdeftext");if(!f){return false;}else{if(h==="destroy"){f.destroy();return false;}else{if(d.fn.ia_jqdeftext.default_settings[h]!==e){if(g!==e){f.settings[h]=g;return true;}else{return f.settings[h];}}else{return false;}}}}}g=d.extend({},d.fn.ia_jqdeftext.default_settings,g||{});if(g.use_placeholder){d.support.placeholder=false;if(!g.use_modernizr){var i=a.createElement("input");if("placeholder" in i){d.support.placeholder=true;}}else{if(d.Modernizr.input.placeholder){d.support.placeholder=true;}}}return this.each(function(){var k=d(this);var o=false;if(k.is("input")||k.is("textarea")){if(k.is("input")){var m=k.attr("type");if(m=="text"||m=="email"||m=="phone"||m=="url"||m=="search"||m=="password"){o=true;}}else{o=true;}}if(o){var l=jQuery.extend(true,{},g);if(k.val()===""||k.val()===l.def_text){var j=new c(l);var n;if(k.is("input")&&k.attr("type")=="password"&&!j.using_placeholders()){n=false;}else{n=true;}if(n){j.deftext=k;var p="#"+k.attr("id");j.initialize();d("body").on("focusin.ia_deftext",p,function(){j.on_focus();}).on("focusout.ia_deftext",p,function(){j.on_blur();});k.data("_ia_jqdeftext",j);}}}});};d.fn.ia_jqdeftext.default_settings={def_text:"",def_class:"iadeftext",use_placeholder:true,use_modernizr:false,toggle_placeholder:false,callback:"",fade_def_text:false,fade_time:450,placeholder_class:true};function c(f){this.deftext=null;this.settings=f;return this;}c.prototype={initialize:function(){var g=this;var f=g.settings;if(g.deftext){if(g.deftext.val()===""){if(g.using_placeholders()){g.deftext.attr("placeholder",f.def_text);if(f.placeholder_class){g.toggle_class(true);}}else{g.deftext.val(f.def_text);g.toggle_class(true);}}}},on_focus:function(){var g=this;var f=g.settings;if(g.using_placeholders()){if(f.toggle_placeholder){if(f.fade_default){g.fade_timeout=setTimeout(function(){g.deftext.attr("placeholder","");},f.fade_time);}else{g.deftext.attr("placeholder","");}}if(f.placeholder_class){g.toggle_class();}}else{if(g.is_default()){if(f.fade_default){g.fade_timeout=setTimeout(function(){g.focus_toggle();},f.fade_time);}else{g.focus_toggle();}}}},focus_toggle:function(){var g=this;var f=g.settings;g.deftext.val("");g.toggle_class();},on_blur:function(){var g=this;var f=g.settings;if(g.using_placeholders()){if(f.toggle_placeholder){g.deftext.attr("placeholder",f.def_text);}if(f.placeholder_class&&g.is_empty()){g.toggle_class(g.deftext);}}else{if(g.is_empty()){g.deftext.val(f.def_text);g.toggle_class();}}if(f.callback&&typeof f.callback==="function"){f.callback.call(this);}},toggle_class:function(f){var h=this;var g=h.settings;var i=false;if(typeof f!=="undefined"){i=f;}if(!i){if(h.deftext.hasClass(g.def_class)){h.deftext.removeClass(g.def_class);}else{h.deftext.addClass(g.def_class);}}else{if(!h.deftext.hasClass(g.def_class)){h.deftext.addClass(g.def_class);}}},using_placeholders:function(){var g=this;var f=g.settings;if(d.support.placeholder&&f.use_placeholder){return true;}else{return false;}},is_default:function(){var g=this;var f=g.settings;if(g.deftext.val()===f.def_text){return true;}else{return false;}},is_empty:function(){var g=this;var f=g.settings;if(g.deftext.val()===""){return true;}else{return false;}},destroy:function(){var g=this;var f=g.settings;if(g.deftext){if(g.using_placeholders()){g.deftext.attr("placeholder","");}else{if(g.is_default()){g.deftext.val("");}}g.deftext.removeClass(f.def_class);g.deftext.removeData("_ia_jqdeftext");var h="#"+g.deftext.attr("id");d("body").off("focusin.ia_deftext",h).off("focusout.ia_deftext",h);g.deftext="";g={};}}};})(jQuery,window,document);